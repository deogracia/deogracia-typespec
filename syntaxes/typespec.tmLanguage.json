{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "TypeSpec",
  "scopeName": "source.tsp",
  "patterns": [
    { "include": "#comments" },
    { "include": "#strings" },
	{ "include": "#identifiers" },
    { "include": "#keywords" },
    { "include": "#types" },
    { "include": "#decorators" }
  ],
  "repository": {
    "comments": { "patterns": [
		{
			"name": "comment.line.double-dash.typespec",
			"match": "//.*$"
		},
		{
			"name":"comment.block.typespec",
			"begin": "/\\*",
			"end": "\\*/"
		}
	] },
    "strings": { "patterns": [
		{
			"name":"string.quoted.double.typespec",
			"begin": "\"",
			"end": "\"",
			"patterns": [
				{
					"name":"constant.character.escape.typespec",
					"match": "\\\\"
				}
			]
		}
	] },
    "keywords": { "patterns": [
		{
			"name": "keyword.control.typespec",
			"match": "\\b(alias|enum|interface|model|op|namespace|op|union|scalar)\\b"
		},
		{
			"name": "keyword.other.import.typespec",
			"match": "\\b(import|using)\\b"
		}
	] },
    "types": { "patterns": [
		{
			"name": "support.type.primitive.typespec",
			"match": "\\b(boolean|bytes|decimal|decimal128integer|duration|float|float32|float64|int8|int16|int32|int64|never|null|offsetDateTime|plainDate|plainTime|safeint|string|uint8|uint16|uint32|uint64|unknown|url|utcDateTime|void)\\b"
		}
	] },
	"identifiers":{"patterns": [
		{
			"match": "([a-zA-Z_$][a-zA-Z0-9_$]*)(\\??*)(:)",
			"captures": {
				"1": {"name": "support.type.property-name.typespec"},
				"2": {"name": "keyword.operator.optionnal.typespec"},
				"3": {"name": "punctuation.separator.key-value.typespec"}
			}
		}
	]},
    "decorators": { "patterns": [
		{
			"name":"entity.name.function.annotation.typespec",
			"match": "@[a-zA-Z_$][a-zA-Z_$]*"
		}
	] }
  }
}